{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yeshua\\\\Desktop\\\\WebDev\\\\Projects\\\\ChatApp\\\\client\\\\src\\\\components\\\\ChatForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Box, FormControl, TextField, Button, Grid, Typography, Paper, Fab, Container } from '@mui/material';\nimport NavigationIcon from '@mui/icons-material/Navigation';\nimport { useEffect } from 'react';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default _s(() => {\n  _s();\n\n  const [state, setState] = useState({\n    message: '',\n    username: ''\n  });\n  const [messages, setMessages] = useState([]);\n  const [socket] = useState(() => io(':8000'));\n  useEffect(() => {\n    socket.on('message', _ref => {\n      let {\n        message,\n        username\n      } = _ref;\n      setMessages([...messages, {\n        message,\n        username\n      }]);\n    });\n  });\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const {\n      message,\n      username\n    } = state;\n    socket.emit(\"message\", {\n      message,\n      username\n    });\n    console.log(socket);\n    setState({\n      message: '',\n      username\n    });\n    return () => socket.disconnect(true);\n  };\n\n  const stateChange = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const showChat = () => {\n    return messages.map((_ref2, index) => {\n      let {\n        message,\n        username\n      } = _ref2;\n\n      if (username === state.username) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            style: {\n              background: \"blue\"\n            },\n            children: [username, \": \", message]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this);\n      } else return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          children: [username, \": \", message]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      className: \"chatPaper\",\n      elevation: 20,\n      sx: {\n        width: \"50vw\",\n        // changes width of paper based on viewwidth\n        height: \"70vh\",\n        // changes height of paper based on viewheight\n        margin: \"0\",\n        // centers paper\n        // padding: \"10px\",\n        borderRadius: \".5rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        children: showChat()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        className: \"chatBox\",\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          className: \"chatForm\",\n          component: \"form\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Fab, {\n            className: \"position-in-message\",\n            type: \"submit\",\n            variant: \"extended\",\n            size: \"medium\",\n            sx: {\n              backgroundColor: \"#4ab599\",\n              width: \"7em\",\n              margin: \"0 auto\"\n            },\n            \"aria-label\": \"add\",\n            children: [/*#__PURE__*/_jsxDEV(NavigationIcon, {\n              className: \"navigation\",\n              sx: {\n                color: \"white\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            className: \"mui-text\",\n            name: \"username\",\n            value: state.username,\n            onChange: e => {\n              stateChange(e);\n            },\n            label: \"username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            className: \"mui-text\",\n            name: \"message\",\n            value: state.message,\n            onChange: e => {\n              stateChange(e);\n            },\n            label: \"message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}, \"ujRCDkMECatzdK/dsUxnqvJ0mCE=\");","map":{"version":3,"names":["React","useState","Box","FormControl","TextField","Button","Grid","Typography","Paper","Fab","Container","NavigationIcon","useEffect","io","state","setState","message","username","messages","setMessages","socket","on","handleSubmit","e","preventDefault","emit","console","log","disconnect","stateChange","target","name","value","showChat","map","index","background","width","height","margin","borderRadius","backgroundColor","color"],"sources":["C:/Users/Yeshua/Desktop/WebDev/Projects/ChatApp/client/src/components/ChatForm.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport {\r\n    Box, FormControl,\r\n    TextField, Button,\r\n    Grid, Typography,\r\n    Paper, Fab,\r\n    Container\r\n} from '@mui/material'\r\nimport NavigationIcon from '@mui/icons-material/Navigation'\r\nimport { useEffect } from 'react'\r\nimport io from 'socket.io-client'\r\n\r\nexport default () => {\r\n    const [state, setState] = useState({message: '', username: ''})\r\n    const [messages, setMessages] = useState([])\r\n    const [socket] = useState(() => io(':8000'))\r\n\r\n\r\n    useEffect(() => {\r\n        socket.on('message', ({message, username}) => {\r\n            setMessages([...messages, {message, username}])\r\n        })\r\n    })\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const {message, username} = state\r\n        socket.emit(\"message\", {message, username})\r\n        console.log(socket)\r\n        setState({message: '', username})\r\n        return () => socket.disconnect(true);\r\n    }\r\n\r\n    const stateChange = ( e ) => {\r\n        setState({...state, [e.target.name]: e.target.value})\r\n    }\r\n\r\n    const showChat = () => {\r\n        return messages.map(({message, username}, index) => {\r\n            if (username === state.username) {\r\n                return (\r\n                    <div key={index}>\r\n                        <Typography style={{background: \"blue\"}}>{username}: {message}</Typography>\r\n                    </div>\r\n                )\r\n            }\r\n            else\r\n                return (\r\n                    <div key={index}>\r\n                        <Typography>{username}: {message}</Typography>\r\n                    </div>\r\n                )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Paper\r\n            className=\"chatPaper\"\r\n            elevation={20}\r\n            sx={{\r\n                width: \"50vw\", // changes width of paper based on viewwidth\r\n                height: \"70vh\", // changes height of paper based on viewheight\r\n                margin: \"0\", // centers paper\r\n                // padding: \"10px\",\r\n                borderRadius: \".5rem\"\r\n            }}>\r\n                <Container>\r\n                    {showChat()}\r\n                </Container>\r\n                <Box className=\"chatBox\">\r\n                    <FormControl className=\"chatForm\" component=\"form\" onSubmit={handleSubmit}>\r\n                        <Fab className=\"position-in-message\" type=\"submit\" variant=\"extended\" size=\"medium\" sx={{backgroundColor: \"#4ab599\", width: \"7em\", margin: \"0 auto\"}} aria-label=\"add\">\r\n                            <NavigationIcon className=\"navigation\" sx={{ color: \"white\" }} />\r\n                            <p>Send</p>\r\n                        </Fab>\r\n                        <TextField className=\"mui-text\" name=\"username\" value={state.username} onChange={(e) => { stateChange(e) }} label=\"username\" />\r\n                        <TextField className=\"mui-text\" name=\"message\" value={state.message} onChange={(e) => { stateChange(e) }} label=\"message\" />\r\n                        {/* <Button className=\"chatButton\" type=\"submit\" variant=\"contained\">Submit</Button> */}\r\n                    </FormControl>\r\n                </Box>\r\n            </Paper>\r\n        </>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}